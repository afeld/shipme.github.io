"use strict";angular.module("shipmeApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/envs",{templateUrl:"views/envs.html",controller:"EnvCtrl"}).otherwise({redirectTo:"/"})}]);var url="https://api.github.com/repos/dlapiduz/govcode.org/deployments";angular.module("shipmeApp").controller("MainCtrl",["$scope","$location",function(a,b){a.next=function(a){b.path("/envs").search("repo="+a)}}]),angular.module("shipmeApp").controller("EnvCtrl",["$scope","$http","$location",function(a,b,c){a.repo=c.search().repo;var d="https://api.github.com/repos/"+a.repo+"/deployments";b.get(d,{headers:{Accept:"application/vnd.github.cannonball-preview+json"}}).success(function(c){a.environments=$.unique($.map(c,function(a){return a.environment})),a.deployments=c;for(var e=0;e<a.deployments.length;e++)!function(c){b.get(d+"/"+a.deployments[c].id+"/statuses",{headers:{Accept:"application/vnd.github.cannonball-preview+json"}}).success(function(b){var d={};$.each(b,function(a,b){try{var c=JSON.parse(b.description.toLowerCase()).server;void 0===d[c]&&(b.server=c,d[c]=b)}catch(e){console.log(e)}}),a.deployments[c].statuses=$.map(d,function(a){return a}),console.log(a.deployments[c].statuses)})}(e)})}]);